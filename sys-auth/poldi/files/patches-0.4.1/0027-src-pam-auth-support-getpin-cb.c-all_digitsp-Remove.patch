From 99618ca58f766fcd813f9d31f584a75a14f81611 Mon Sep 17 00:00:00 2001
From: NIIBE Yutaka <gniibe@fsij.org>
Date: Thu, 1 May 2014 14:00:52 +0900
Subject: [PATCH 27/52] * src/pam/auth-support/getpin-cb.c (all_digitsp):
 Remove. (strcpy_escaped): Fix type qualifier.

---
 src/pam/auth-support/getpin-cb.c | 13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

diff --git a/src/pam/auth-support/getpin-cb.c b/src/pam/auth-support/getpin-cb.c
index 5dfba9a..c5d7ba8 100644
--- a/src/pam/auth-support/getpin-cb.c
+++ b/src/pam/auth-support/getpin-cb.c
@@ -46,17 +46,6 @@
 #include "getpin-cb.h"
 
 
-
-/* Returns TRUE if the string S contains only decimal digits, FALSE
-   otherwise. */
-static int
-all_digitsp (const char *s)
-{
-  for (; *s && *s >= '0' && *s <= '9'; s++)
-    ;
-  return !*s;
-}  
-
 /* Query the user through PAM for his PIN.  Display INFO to the user.
    Store the retrieved pin in PIN, which is of size PIN_SIZE.  If it
    does not fit, return error. */
@@ -130,7 +119,7 @@ keypad_mode_leave (poldi_ctx_t ctx)
 /* Note, that it is sufficient to allocate the target string D as
    long as the source string S, i.e.: strlen(s)+1; */
 static void
-strcpy_escaped (char *d, const unsigned char *s)
+strcpy_escaped (char *d, const char *s)
 {
   while (*s)
     {
-- 
2.17.0

